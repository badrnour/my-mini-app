<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ø¹Ø¸Ù…Ø© Ø§Ù„Ø°ÙƒÙŠ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-bg: var(--tg-theme-bg-color, #ffffff);
            --tg-text: var(--tg-theme-text-color, #222222);
            --tg-hint: var(--tg-theme-hint-color, #999999);
            --tg-link: var(--tg-theme-link-color, #0088cc);
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--tg-bg); color: var(--tg-text); margin: 0; padding: 20px; transition: all 0.3s; }
        .product-header { text-align: center; margin-bottom: 25px; }
        .product-img { width: 100%; max-width: 250px; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 15px; text-align: right; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 14px; }
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; background: #f9f9f9; font-size: 16px; }
        input:focus { border-color: var(--tg-link); outline: none; background: #fff; }
        .price-tag { font-size: 24px; color: var(--tg-link); font-weight: bold; margin: 10px 0; }
    </style>
</head>
<body>

    <div class="product-header">
        <img src="https://via.placeholder.com/300x300/0088cc/ffffff?text=Product+Image" class="product-img">
        <h2 style="margin: 10px 0 5px;">ÙƒØ±ÙŠÙ… Ø§Ù„Ø¹Ø¸Ù…Ø© Ø§Ù„ÙØ§Ø®Ø±</h2>
        <div class="price-tag">250 Ø¬.Ù…</div>
        <p style="color: var(--tg-hint);">Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù…Ù† ÙŠØ³Ø¹ÙˆÙ† Ù„Ù„Ù‚Ù…Ø©.</p>
    </div>

    <div class="form-group">
        <label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
        <input type="text" id="userName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§...">
    </div>

    <div class="form-group">
        <label>ğŸ“± Ø±Ù‚Ù… Ø§Ù„ØªÙ„ÙŠÙÙˆÙ†</label>
        <input type="tel" id="userPhone" placeholder="01xxxxxxxxx">
    </div>

    <div class="form-group">
        <label>ğŸ“ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</label>
        <input type="text" id="userAddress" placeholder="Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©ØŒ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©ØŒ Ø§Ø³Ù… Ø§Ù„Ø´Ø§Ø±Ø¹...">
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // ÙØªØ­ Ø§Ù„Ø´Ø§Ø´Ø© ÙƒØ§Ù…Ù„Ø©
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main Button)
        const mainButton = tg.MainButton;
        mainButton.setText("ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ´Ø­Ù† Ø§Ù„Ù…Ù†ØªØ¬ ğŸš€");
        mainButton.show();

        // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function checkInputs() {
            const name = document.getElementById('userName').value;
            const phone = document.getElementById('userPhone').value;
            const address = document.getElementById('userAddress').value;
            
            if (name && phone && address) {
                mainButton.enable();
                mainButton.setParams({ color: "#0088cc" });
            } else {
                // mainButton.disable(); // Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ùˆ Ø¹Ø§ÙˆØ²Ù‡ ÙŠÙØ¶Ù„ Ø·Ø§ÙÙŠ Ù„Ø­Ø¯ Ù…Ø§ ÙŠÙ…Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            }
        }

        // Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ø®Ø§Ù†Ø§Øª
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', checkInputs);
        });

        // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        tg.onEvent('mainButtonClicked', function() {
            const name = document.getElementById('userName').value;
            const phone = document.getElementById('userPhone').value;
            const address = document.getElementById('userAddress').value;

            if (!name || !phone || !address) {
                tg.showAlert("Ø¨Ø±Ø¬Ø§Ø¡ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ âš ï¸");
                return;
            }

            const data = {
                item: "ÙƒØ±ÙŠÙ… Ø§Ù„Ø¹Ø¸Ù…Ø© Ø§Ù„ÙØ§Ø®Ø±",
                price: 250,
                customer_name: name,
                customer_phone: phone,
                customer_address: address
            };

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙŠÙ†ÙŠ Ø¢Ø¨
            tg.sendData(JSON.stringify(data));
        });
    </script>
</body>
</html>
